<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Home â€” ChatApp</title>
<script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
<script src="https://unpkg.com/html5-qrcode"></script>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="top-bar">
  <div class="left">
    <img id="userPic" class="profile-pic" src="" alt="Profile">
    <span id="usernameDisplay">Your Name</span>
  </div>
  <div class="icons">
    <img src="https://img.icons8.com/ios-glyphs/30/000000/menu-2.png" title="Menu">
  </div>
</div>

<div class="main" id="mainContent">
  <p id="noMsgText">No messages yet <br> Add friends to start conversation</p>
  <div class="friends-list" id="friendsList"></div>
  <div id="qr-reader"></div>

  <div class="bottom-buttons">
    <button onclick="location.href='chat.html'">Chats</button>
    <button onclick="location.href='group.html'">Group</button>
    <button onclick="location.href='call.html'">Call</button>
  </div>
</div>

<div class="fab" id="fab">+</div>
<div class="fab-menu" id="fabMenu">
  <button id="myCodeBtn">My Code</button>
  <button id="scanQRBtn">Scan Friend QR</button>
  <button id="searchFriendBtn">Search Friend</button>
  <button id="cameraBtn">Take Video / Photo</button>
</div>

<div id="qrModal">
  <div id="qrModalContent">
    <h3>Your QR Code</h3>
    <div id="qrCode"></div>
    <button onclick="closeQR()">Close</button>
  </div>
</div>

<div id="cameraModal">
  <video id="cameraVideo" autoplay style="width:90%; max-width:400px; border-radius:10px; margin-top:20px;"></video>
  <div style="margin-top:10px;">
    <button id="takePhotoBtn">Take Photo</button>
    <button id="startVideoBtn">Start Recording</button>
    <button id="stopVideoBtn">Stop Recording</button>
  </div>
  <canvas id="photoCanvas" style="display:none; margin-top:10px;"></canvas>
  <video id="recordedVideo" controls style="display:none; width:90%; max-width:400px; margin-top:10px;"></video>
  <button onclick="closeCamera()" style="margin-top:10px;">Close</button>
</div>

<script src="home.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calls</title>
<style>
body{font-family:Arial;background:#f5f5f5;margin:0;padding:0;display:flex;align-items:center;justify-content:center;height:100vh;}
.overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none;}
.call-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#fff;padding:20px;border-radius:12px;text-align:center;display:none;width:300px;}
.call-popup img{width:80px;height:80px;border-radius:50%;margin-bottom:10px;}
.call-popup button{margin:5px;padding:10px 20px;border:none;border-radius:8px;color:#fff;cursor:pointer;}
.accept{background:#4CAF50;}
.decline{background:#e74c3c;}
</style>
</head>
<body>

<div class="overlay" id="overlay"></div>

<div class="call-popup" id="callPopup">
  <img id="friendProfile" src="">
  <h3 id="friendName">Friend</h3>
  <p id="callType">Incoming Call...</p>
  <button class="accept" id="acceptBtn">Accept</button>
  <button class="decline" id="declineBtn">Decline</button>
</div>

<script>
// Get friend info from URL
const params=new URLSearchParams(window.location.search);
const friendName=params.get("name");
const friendProfile=params.get("profile");
const callType=params.get("type");

if(friendName && friendProfile && callType){
  const popup=document.getElementById("callPopup");
  const overlay=document.getElementById("overlay");
  document.getElementById("friendName").innerText=friendName;
  document.getElementById("friendProfile").src=friendProfile;
  document.getElementById("callType").innerText="Incoming "+callType.charAt(0).toUpperCase()+callType.slice(1)+" Call...";
  
  popup.style.display="block";
  overlay.style.display="block";
}

// Buttons
document.getElementById("acceptBtn").onclick=()=>{
  alert(`Connected ${callType} call with ${friendName}`);
  closeCall();
};
document.getElementById("declineBtn").onclick=()=>{
  alert(`Call declined with ${friendName}`);
  closeCall();
};
function closeCall(){
  document.getElementById("callPopup").style.display="none";
  document.getElementById("overlay").style.display="none";
  window.location.href="home.html";
}
</script>
</body>
</html>

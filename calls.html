<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calls</title>
<style>
body{font-family:Arial;margin:0;padding:0;background:#f5f5f5;}
.main-content{padding:20px;min-height:70vh;}
.call-item{padding:10px;background:#fff;margin:5px 0;border-radius:8px;cursor:pointer;display:flex;align-items:center;}
.call-item img{width:40px;height:40px;border-radius:50%;margin-right:10px;}
</style>
</head>
<body>

<div class="main-content" id="mainContent"></div>

<script>
const friends = JSON.parse(localStorage.getItem('friends')||'[]');
const mainContent = document.getElementById('mainContent');
if(friends.length===0){ mainContent.innerHTML="<div>No calls yet</div>"; }
else{
  friends.forEach(f=>{
    const div=document.createElement('div'); div.className='call-item';
    div.innerHTML=`<img src="${f.profile||'default-profile.png'}"><span>${f.name}</span>`;
    div.onclick=()=>{
      const mode = prompt(`Call ${f.name}:\nType "audio" or "video"`);
      if(mode==='audio') alert(`Audio call with ${f.name} started`);
      else if(mode==='video') alert(`Video call with ${f.name} started`);
      else alert('Cancelled');
    };
    mainContent.appendChild(div);
  });
}
</script>

</body>
</html>

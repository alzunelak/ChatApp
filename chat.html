<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chat with Friend</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
<style>
  body {margin:0;font-family:'Segoe UI',Arial,sans-serif;background:#fff;color:#000;height:100vh;display:flex;flex-direction:column;}
  #chatPage,#friendInfoPage{display:flex;flex-direction:column;flex:1;}
  .header{display:flex;align-items:center;justify-content:space-between;background:#fff;padding:10px;border-bottom:1px solid #ccc;position:relative;}
  .header img{width:50px;height:50px;border-radius:50%;cursor:pointer;object-fit:cover;}
  .header-info{flex:1;display:flex;flex-direction:column;margin-left:10px;overflow:hidden;}
  .header-info h2{margin:0;font-size:16px;cursor:pointer;}
  .header-actions{display:flex;align-items:center;gap:15px;}
  .header-actions button{background:none;border:none;cursor:pointer;font-size:20px;color:#128C7E;}
  #chatBox{flex:1;overflow-y:auto;padding:10px;margin-bottom:100px;}
  .msg{max-width:70%;padding:10px 14px;margin:5px 0;border-radius:18px;background:#f1f1f1;align-self:flex-start;position:relative;word-break:break-word;}
  .msg.self{background:#dcf8c6;align-self:flex-end;}
  .msg .meta{font-size:10px;color:#999;text-align:right;}
  #inputArea{display:flex;align-items:center;position:fixed;bottom:10px;left:10px;width:calc(100% - 20px);z-index:100;}
  .input-box{display:flex;flex:1;background:#f1f1f1;border-radius:25px;padding:6px 10px;gap:6px;}
  .input-box input{flex:1;border:none;outline:none;font-size:14px;background:transparent;}
  .input-buttons button{background:transparent;border:none;font-size:20px;cursor:pointer;color:#128C7E;}
  #micBtn{width:40px;height:40px;border-radius:50%;background:#25D366;color:white;border:none;font-size:18px;display:flex;align-items:center;justify-content:center;margin-left:6px;}
  .popup{display:none;position:absolute;top:50px;right:10px;background:#fff;border:1px solid #ccc;border-radius:8px;z-index:1000;width:150px;}
  .popup div{padding:10px;cursor:pointer;border-bottom:1px solid #eee;}
  .popup div:hover{background:#f1f1f1;}
  #emojiPicker{position:absolute;bottom:60px;left:10px;background:#fff;border:1px solid #ccc;padding:10px;display:none;max-height:200px;overflow-y:auto;border-radius:8px;}
  #emojiPicker span{font-size:20px;padding:5px;cursor:pointer;}
  #emojiPicker span:hover{background:#eee;border-radius:5px;}

  /* Attachment Popup */
  #attachPopup {
    display: none;
    position: absolute;
    bottom: 60px;
    left: 60px;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 10px;
    padding: 8px;
    width: 200px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    z-index: 2000;
  }
  #attachPopup label, #attachPopup div {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 10px;
    cursor: pointer;
    font-size: 15px;
  }
  #attachPopup label:hover, #attachPopup div:hover {
    background: #f1f1f1;
    border-radius: 8px;
  }
  #attachPopup input { display: none; }

  /* FRIEND INFO PAGE */
  #friendInfoPage{display:none; flex-direction:column; padding:20px; background:#f5f5f5;}
  .friendHeader{ text-align:center; margin-bottom:20px; position:relative; }
  .friendHeader img{width:120px; height:120px; border-radius:50%; margin-bottom:10px;}
  .friendHeader h2{margin:0; font-size:22px; margin-bottom:20px;}
  .actionButtons{display:flex; justify-content:center; gap:30px; margin-bottom:20px;}
  .actionButtons button{display:flex; flex-direction:column; align-items:center; border:none; background:none; cursor:pointer; color:#075E54;}
  .actionButtons i{font-size:24px;}
  .settingsContainer, .groupsContainer, .actionBox{background:#fff; padding:10px; border-radius:10px; margin-bottom:20px;}
  .settingsContainer button, .groupsContainer button{width:100%; display:flex; align-items:center; gap:10px; padding:10px; border:none; border-radius:8px; margin-bottom:5px; cursor:pointer;}
  
  /* Block & Report = red text, no background */
  .actionBox button{width:100%; display:flex; align-items:center; gap:10px; padding:10px; border:none; border-radius:8px; cursor:pointer; margin-bottom:5px; background:none; font-weight:bold;}
  .actionBox .block{color:#f44336;}
  .actionBox .report{color:#ff5722;}

  .backArrow{cursor:pointer; font-size:22px; position:absolute; left:0; top:0;}
</style>
</head>
<body>

<!-- CHAT PAGE -->
<div id="chatPage">
  <div class="header">
    <img id="friendPhoto" src="default-profile.png">
    <div class="header-info">
      <h2 id="friendName"></h2>
    </div>
    <div class="header-actions">
      <button id="callBtn"><i class="fa-solid fa-phone"></i></button>
      <button id="menuBtn"><i class="fa-solid fa-ellipsis-vertical"></i></button>
    </div>
    <div class="popup" id="menuPopup">
      <div onclick="openFriendInfo()">View Info</div>
      <div onclick="alert('Muted!')">Mute</div>
      <div onclick="deleteChat()">Delete Chat</div>
    </div>
  </div>
  <div id="chatBox"></div>
  <div id="inputArea">
    <div class="input-box">
      <input id="msgInput" placeholder="Type a message...">
      <div class="input-buttons">
        <button id="emojiBtn"><i class="fa-solid fa-face-smile"></i></button>
        <button id="plusBtn"><i class="fa-solid fa-paperclip"></i></button>
      </div>
    </div>
    <button id="micBtn"><i class="fa-solid fa-microphone"></i></button>
  </div>
</div>

<!-- Emoji Picker -->
<div id="emojiPicker">
  <span>üòÄ</span><span>üòÇ</span><span>üòç</span><span>üò≠</span>
  <span>üòé</span><span>üò°</span><span>üëç</span><span>üôè</span>
  <span>üî•</span><span>üéâ</span><span>‚ù§Ô∏è</span>
</div>

<!-- Attachment Popup -->
<div id="attachPopup">
  <label>
    <i class="fa-solid fa-image"></i> Gallery
    <input type="file" id="galleryInput" accept="image/*,video/*">
  </label>
  <label>
    <i class="fa-solid fa-camera"></i> Camera
    <input type="file" id="cameraInput" accept="image/*,video/*" capture="environment">
  </label>
  <label>
    <i class="fa-solid fa-file"></i> Document
    <input type="file" id="documentInput" accept=".pdf,.doc,.docx,.txt">
  </label>
  <div id="sendContact"><i class="fa-solid fa-user"></i> Contact</div>
  <div id="sendLocation"><i class="fa-solid fa-location-dot"></i> Location</div>
  <label>
    <i class="fa-solid fa-microphone"></i> Audio
    <input type="file" id="audioInput" accept="audio/*">
  </label>
</div>

<!-- FRIEND INFO PAGE -->
<div id="friendInfoPage">
  <div class="friendHeader">
    <i class="fa-solid fa-arrow-left backArrow" onclick="backToChat()"></i>
    <img id="infoFriendPhoto" src="default-profile.png">
    <h2 id="infoFriendName">Friend Name</h2>
    <div class="actionButtons">
      <button><i class="fa-solid fa-video"></i><span>Video Call</span></button>
      <button><i class="fa-solid fa-phone"></i><span>Audio Call</span></button>
      <button><i class="fa-solid fa-magnifying-glass"></i><span>Search</span></button>
    </div>
  </div>
  <div class="settingsContainer">
    <button><i class="fa-solid fa-lock"></i> End-to-End Encryption</button>
    <button><i class="fa-solid fa-network-wired"></i> Mesh Network Form</button>
    <button><i class="fa-solid fa-paint-roller"></i> Chat Color & Wallpaper</button>
    <button><i class="fa-solid fa-shield"></i> Advanced Chat Privacy</button>
  </div>
  <div class="groupsContainer">
    <div>No groups in common</div>
    <button>+</button>
  </div>
  <div class="actionBox">
    <button class="block" onclick="confirmBlock()"><i class="fa-solid fa-ban"></i> Block User</button>
    <button class="report" onclick="confirmReport()"><i class="fa-solid fa-flag"></i> Report User</button>
  </div>
</div>

<script>
/* same JS as your version ‚Äì unchanged, since only CSS update was needed */
</script>
</body>
</html>

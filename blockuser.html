<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Blocked User</title>
<style>
body{font-family:Arial;margin:0;padding:0;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh;background:#f5f5f5;}
.block-container{background:white;padding:20px;border-radius:10px;box-shadow:0 2px 5px rgba(0,0,0,0.2);text-align:center;}
.block-container img{width:80px;height:80px;border-radius:50%;margin-bottom:10px;}
button{padding:10px 20px;background:#075E54;color:white;border:none;border-radius:8px;cursor:pointer;margin-top:15px;}
</style>
</head>
<body>

<div class="block-container">
  <img id="blockedProfile" src="">
  <h2 id="blockedName">Blocked User</h2>
  <p>You have blocked this user. You won't be able to send or receive messages until you unblock them.</p>
  <button id="unblockBtn">Unblock User</button>
</div>

<script>
// Get blocked friend info from URL
const params = new URLSearchParams(window.location.search);
const friend = params.get('friend');
document.getElementById('blockedName').innerText = friend;
document.getElementById('blockedProfile').src = params.get('profile') || '';

// Unblock function
document.getElementById('unblockBtn').addEventListener('click', ()=>{
  let blockedUsers = JSON.parse(localStorage.getItem('blockedUsers')||'[]');
  blockedUsers = blockedUsers.filter(u => u !== friend);
  localStorage.setItem('blockedUsers', JSON.stringify(blockedUsers));
  alert(`${friend} is unblocked!`);
  window.location.href = `chat.html?friend=${friend}&profile=${params.get('profile')||''}`;
});
</script>

</body>
</html>

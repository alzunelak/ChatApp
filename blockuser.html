<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Blocked Users</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    .blocked { border: 1px solid #ccc; padding: 10px; margin: 5px; }
    button { margin-left: 10px; }
  </style>
</head>
<body>
  <h2>Blocked Users</h2>
  <div id="blockedList"></div>

  <script>
    function renderBlocked() {
      let blockedUsers = JSON.parse(localStorage.getItem("blockedUsers") || "[]");
      const blockedList = document.getElementById("blockedList");
      blockedList.innerHTML = "";

      if (blockedUsers.length === 0) {
        blockedList.innerHTML = "<p>No blocked users</p>";
        return;
      }

      blockedUsers.forEach((friend, index) => {
        let div = document.createElement("div");
        div.className = "blocked";
        div.innerHTML = friend + " <button>Unblock</button>";

        div.querySelector("button").addEventListener("click", () => {
          blockedUsers.splice(index, 1);
          localStorage.setItem("blockedUsers", JSON.stringify(blockedUsers));

          // Add back to friend list
          let friends = JSON.parse(localStorage.getItem("friends") || "[]");
          friends.push({ name: friend, profile: "" });
          localStorage.setItem("friends", JSON.stringify(friends));

          renderBlocked();
          alert(friend + " is unblocked and added back to your friend list.");
        });

        blockedList.appendChild(div);
      });
    }

    renderBlocked();
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Groups</title>
<style>
body{margin:0;font-family:Arial,sans-serif;background:#f2f2f2;}
header{background:#25d366;color:white;padding:10px;text-align:center;}
header h2{margin:0;}
.group-list{padding:10px;}
.group-item{background:white;padding:10px;margin-bottom:5px;border-radius:5px;cursor:pointer;}
.add-group{padding:10px;text-align:center;}
.add-group input{padding:5px;width:60%;margin-right:5px;}
.add-group button{padding:5px;background:#25d366;color:white;border:none;border-radius:5px;cursor:pointer;}
nav{position:fixed;bottom:0;left:0;width:100%;background:white;display:flex;justify-content:space-around;border-top:1px solid #ccc;}
nav a{text-align:center;padding:10px;flex:1;color:#555;text-decoration:none;font-size:14px;}
nav a.active{color:#25d366;}
</style>
</head>
<body>

<header>
  <h2>Groups</h2>
</header>

<div class="add-group">
  <input type="text" id="groupNameInput" placeholder="New group name">
  <button onclick="addGroup()">Add</button>
</div>

<div class="group-list" id="group-list"></div>

<nav>
  <a href="home.html">Chats</a>
  <a href="groups.html" class="active">Groups</a>
  <a href="calls.html">Calls</a>
</nav>

<script>
// Groups
let groups = JSON.parse(localStorage.getItem("groups")||"[]");
function renderGroups(){
  const list = document.getElementById("group-list");
  list.innerHTML="";
  groups.forEach((g,i)=>{
    const div = document.createElement("div");
    div.className="group-item";
    div.innerText=g.name;
    div.onclick = ()=> {
      localStorage.setItem("currentGroup", JSON.stringify(g));
      window.location.href="group-chat.html";
    };
    list.appendChild(div);
  });
}
renderGroups();

function addGroup(){
  const input = document.getElementById("groupNameInput");
  const name = input.value.trim();
  if(!name) return alert("Enter group name");
  const newGroup = {id:"group_"+Date.now(), name};
  groups.push(newGroup);
  localStorage.setItem("groups", JSON.stringify(groups));
  input.value="";
  renderGroups();
}
</script>

</body>
</html>
